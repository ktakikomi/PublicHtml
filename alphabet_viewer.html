<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>アルファベット画像ビューア</title>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* 上寄せに調整 */
            min-height: 100vh;
            margin: 0;
            padding-top: 20px; /* 上部に少し余白 */
            background-color: #f4f4f4;
        }
        textarea {
            padding: 10px;
            font-size: 24px;
            text-align: left;
            width: 300px;
            min-height: 100px; /* 高さを少し確保 */
            margin-bottom: 20px;
            border: 2px solid #ccc;
            border-radius: 5px;
            resize: vertical; /* 縦方向のみリサイズ可能に */
            text-transform: lowercase; /* 入力を小文字に変換 */
        }
        #imageContainer {
            display: block; /* ブロック要素にして、内部でインライン要素を配置 */
            max-width: 90%; /* コンテナの最大幅を設定 */
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            word-wrap: break-word; /* 長い単語でも改行されるように */
        }
        .imageWrapper {
            display: inline-block; /* インラインブロック要素で横並びに */
            height: 50px; /* 画像の実際のサイズに合わせて調整（例） */
            border: 0px solid #ddd; /* ボーダー削除 */
            vertical-align: top; /* 上端を揃える */
            margin-right: 2px; /* 画像間の余白（必要であれば調整） */
            margin-bottom: 0px; /* 行間の余白（必要であれば調整） */
            overflow: hidden;
            box-sizing: border-box; /* paddingとborderをwidth/heightに含める */
        }
        .imageWrapper img {
            display: block; /* imgをブロック要素に */
            width: 100%;
            height: 100%;
            object-fit: contain; /* 画像をはみ出さずに表示 */
        }
        .space-char {
            display: inline-block;
            width: 25px; /* 半角スペースの幅（画像サイズの半分程度） */
            height: 50px; /* 画像の高さに合わせる */
            vertical-align: top;
        }
        .invalid {
            display: inline-block;
            color: red;
            font-size: 0.8em;
            margin-right: 10px;
            vertical-align: top;
        }
    </style>
</head>
<body>
    <h1>アルファベット画像ビューア</h1>
    <textarea id="alphabetInput" placeholder="例: abc def&#10;ghi"></textarea>
    <div id="imageContainer">
        </div>

    <script>
        const alphabetInput = document.getElementById('alphabetInput');
        const imageContainer = document.getElementById('imageContainer');

        alphabetInput.addEventListener('input', function() {
            const inputText = this.value.toLowerCase(); // 入力値全体を小文字に変換
            imageContainer.innerHTML = ''; // コンテナをクリア

            for (const char of inputText) {
                if (char >= 'a' && char <= 'z') {
                    const imageUrl = `img/AncientAlphabet/${char}.png`; // 画像パス
                    const imageWrapper = document.createElement('div');
                    imageWrapper.classList.add('imageWrapper');
                    const img = document.createElement('img');
                    img.src = imageUrl;
                    img.alt = char;
                    imageWrapper.appendChild(img);
                    imageContainer.appendChild(imageWrapper);
                } else if (char === ' ' || char === '\u3000') { // 半角スペースまたは全角スペース
                    const spaceElement = document.createElement('span');
                    spaceElement.classList.add('space-char');
                    imageContainer.appendChild(spaceElement);
                } else if (char === '\n' || char === '\r') { // 改行コード
                    imageContainer.appendChild(document.createElement('br'));
                } else {
                    // アルファベット、スペース、改行以外の無効な文字の場合
                    const invalidCharSpan = document.createElement('span');
                    invalidCharSpan.classList.add('invalid');
                    invalidCharSpan.textContent = `'${char}' は無効な文字です`;
                    imageContainer.appendChild(invalidCharSpan);
                }
            }
        });
    </script>
</body>
</html>